{"ast":null,"code":"var _jsxFileName = \"/Users/mustakimshaikh/Downloads/courier-website/frontend/src/pages/AdminDashboard.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useRef } from \"react\";\nimport { gsap } from \"gsap\";\nimport { getToken } from \"../utils/auth\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst STATUS_FLOW = [\"Pending\", \"In Transit\", \"Out for Delivery\", \"Delivered\"];\nexport default function AdminDashboard() {\n  _s();\n  const [shipments, setShipments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const lineRefs = useRef([]);\n\n  // ðŸ”¹ Load shipments\n  const loadShipments = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch(\"http://localhost:5001/api/shipment/all\", {\n        headers: {\n          Authorization: `Bearer ${getToken()}`\n        }\n      });\n      if (!res.ok) throw new Error(\"Failed to load shipments\");\n      setShipments(await res.json());\n    } catch (err) {\n      setError(\"Unable to load shipments\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ðŸ”¹ Update shipment status\n  const updateStatus = async (id, status) => {\n    try {\n      await fetch(`http://localhost:5001/api/shipment/update/${id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${getToken()}`\n        },\n        body: JSON.stringify({\n          status\n        })\n      });\n      setShipments(prev => prev.map(s => s._id === id ? {\n        ...s,\n        status\n      } : s));\n    } catch {\n      alert(\"Failed to update status\");\n    }\n  };\n\n  // ðŸ”¹ GSAP blinking logistics line\n  useEffect(() => {\n    gsap.to(lineRefs.current, {\n      backgroundPositionX: \"200%\",\n      duration: 2,\n      repeat: -1,\n      ease: \"linear\"\n    });\n  }, [shipments]);\n  useEffect(() => {\n    loadShipments();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n          .admin-container {\n            padding: 30px;\n            font-family: Arial, sans-serif;\n          }\n\n          .shipment-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n            gap: 20px;\n          }\n\n          .shipment-card {\n            background: white;\n            border-radius: 10px;\n            padding: 20px;\n            box-shadow: 0 4px 14px rgba(0,0,0,0.12);\n          }\n\n          .tracking-id {\n            font-weight: bold;\n            font-size: 1.05rem;\n          }\n\n          .route {\n            margin: 6px 0;\n            color: #555;\n          }\n\n          .status-line {\n            height: 3px;\n            margin: 12px 0;\n            background: linear-gradient(\n              90deg,\n              transparent,\n              #00c6ff,\n              transparent\n            );\n            background-size: 200% 100%;\n          }\n\n          .status-steps {\n            display: flex;\n            justify-content: space-between;\n            margin-top: 10px;\n          }\n\n          .step {\n            font-size: 0.75rem;\n            text-align: center;\n            flex: 1;\n            opacity: 0.3;\n          }\n\n          .step.active {\n            color: #1e88e5;\n            font-weight: bold;\n            opacity: 1;\n          }\n\n          select {\n            margin-top: 12px;\n            width: 100%;\n            padding: 8px;\n          }\n\n          .loading,\n          .error {\n            text-align: center;\n            margin-top: 40px;\n          }\n\n          .error {\n            color: red;\n          }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Admin Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"loading\",\n        children: \"Loading shipments...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 21\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shipment-grid\",\n        children: shipments.map((s, index) => {\n          const currentIndex = STATUS_FLOW.indexOf(s.status);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shipment-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tracking-id\",\n              children: s.trackingId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"route\",\n              children: [s.sender, \" \\u2192 \", s.receiver]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"status-line\",\n              ref: el => lineRefs.current[index] = el\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"status-steps\",\n              children: STATUS_FLOW.map((step, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `step ${i <= currentIndex ? \"active\" : \"\"}`,\n                children: step\n              }, step, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: s.status,\n              onChange: e => updateStatus(s._id, e.target.value),\n              children: [STATUS_FLOW.map(st => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: st,\n                children: st\n              }, st, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 21\n              }, this)), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Cancelled\",\n                children: \"Cancelled\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this)]\n          }, s._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(AdminDashboard, \"EX+R+NnCj2SZqYy4f/a8gKos87U=\");\n_c = AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["useEffect","useState","useRef","gsap","getToken","jsxDEV","_jsxDEV","Fragment","_Fragment","STATUS_FLOW","AdminDashboard","_s","shipments","setShipments","loading","setLoading","error","setError","lineRefs","loadShipments","res","fetch","headers","Authorization","ok","Error","json","err","updateStatus","id","status","method","body","JSON","stringify","prev","map","s","_id","alert","to","current","backgroundPositionX","duration","repeat","ease","children","fileName","_jsxFileName","lineNumber","columnNumber","className","index","currentIndex","indexOf","trackingId","sender","receiver","ref","el","step","i","value","onChange","e","target","st","_c","$RefreshReg$"],"sources":["/Users/mustakimshaikh/Downloads/courier-website/frontend/src/pages/AdminDashboard.js"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\";\nimport { gsap } from \"gsap\";\nimport { getToken } from \"../utils/auth\";\n\nconst STATUS_FLOW = [\n  \"Pending\",\n  \"In Transit\",\n  \"Out for Delivery\",\n  \"Delivered\",\n];\n\nexport default function AdminDashboard() {\n  const [shipments, setShipments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n\n  const lineRefs = useRef([]);\n\n  // ðŸ”¹ Load shipments\n  const loadShipments = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch(\"http://localhost:5001/api/shipment/all\", {\n        headers: {\n          Authorization: `Bearer ${getToken()}`,\n        },\n      });\n\n      if (!res.ok) throw new Error(\"Failed to load shipments\");\n\n      setShipments(await res.json());\n    } catch (err) {\n      setError(\"Unable to load shipments\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ðŸ”¹ Update shipment status\n  const updateStatus = async (id, status) => {\n    try {\n      await fetch(\n        `http://localhost:5001/api/shipment/update/${id}`,\n        {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${getToken()}`,\n          },\n          body: JSON.stringify({ status }),\n        }\n      );\n\n      setShipments((prev) =>\n        prev.map((s) =>\n          s._id === id ? { ...s, status } : s\n        )\n      );\n    } catch {\n      alert(\"Failed to update status\");\n    }\n  };\n\n  // ðŸ”¹ GSAP blinking logistics line\n  useEffect(() => {\n    gsap.to(lineRefs.current, {\n      backgroundPositionX: \"200%\",\n      duration: 2,\n      repeat: -1,\n      ease: \"linear\",\n    });\n  }, [shipments]);\n\n  useEffect(() => {\n    loadShipments();\n  }, []);\n\n  return (\n    <>\n      <style>\n        {`\n          .admin-container {\n            padding: 30px;\n            font-family: Arial, sans-serif;\n          }\n\n          .shipment-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n            gap: 20px;\n          }\n\n          .shipment-card {\n            background: white;\n            border-radius: 10px;\n            padding: 20px;\n            box-shadow: 0 4px 14px rgba(0,0,0,0.12);\n          }\n\n          .tracking-id {\n            font-weight: bold;\n            font-size: 1.05rem;\n          }\n\n          .route {\n            margin: 6px 0;\n            color: #555;\n          }\n\n          .status-line {\n            height: 3px;\n            margin: 12px 0;\n            background: linear-gradient(\n              90deg,\n              transparent,\n              #00c6ff,\n              transparent\n            );\n            background-size: 200% 100%;\n          }\n\n          .status-steps {\n            display: flex;\n            justify-content: space-between;\n            margin-top: 10px;\n          }\n\n          .step {\n            font-size: 0.75rem;\n            text-align: center;\n            flex: 1;\n            opacity: 0.3;\n          }\n\n          .step.active {\n            color: #1e88e5;\n            font-weight: bold;\n            opacity: 1;\n          }\n\n          select {\n            margin-top: 12px;\n            width: 100%;\n            padding: 8px;\n          }\n\n          .loading,\n          .error {\n            text-align: center;\n            margin-top: 40px;\n          }\n\n          .error {\n            color: red;\n          }\n        `}\n      </style>\n\n      <div className=\"admin-container\">\n        <h2>Admin Dashboard</h2>\n\n        {loading && <p className=\"loading\">Loading shipments...</p>}\n        {error && <p className=\"error\">{error}</p>}\n\n        <div className=\"shipment-grid\">\n          {shipments.map((s, index) => {\n            const currentIndex = STATUS_FLOW.indexOf(s.status);\n\n            return (\n              <div key={s._id} className=\"shipment-card\">\n                <div className=\"tracking-id\">\n                  {s.trackingId}\n                </div>\n\n                <div className=\"route\">\n                  {s.sender} â†’ {s.receiver}\n                </div>\n\n                {/* GSAP animated line */}\n                <div\n                  className=\"status-line\"\n                  ref={(el) => (lineRefs.current[index] = el)}\n                />\n\n                {/* Status steps */}\n                <div className=\"status-steps\">\n                  {STATUS_FLOW.map((step, i) => (\n                    <div\n                      key={step}\n                      className={`step ${\n                        i <= currentIndex ? \"active\" : \"\"\n                      }`}\n                    >\n                      {step}\n                    </div>\n                  ))}\n                </div>\n\n                {/* Status update */}\n                <select\n                  value={s.status}\n                  onChange={(e) =>\n                    updateStatus(s._id, e.target.value)\n                  }\n                >\n                  {STATUS_FLOW.map((st) => (\n                    <option key={st} value={st}>\n                      {st}\n                    </option>\n                  ))}\n                  <option value=\"Cancelled\">Cancelled</option>\n                </select>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}